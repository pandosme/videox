# =============================================================================
# VideoX VMS - Docker Environment Configuration Example
# =============================================================================
# Copy this file to .env and update with your values
# Usage: docker-compose --env-file .env up -d
# =============================================================================

# -----------------------------------------------------------------------------
# MongoDB Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# MongoDB must be running externally (on host or separate container)
#
# If MongoDB is on host machine, use:
#   - Linux/Mac: mongodb://admin:password@host.docker.internal:27017/videox?authSource=admin
#   - Or use your host IP address
#
# If using network_mode: host in docker-compose.yml, use:
#   - mongodb://admin:password@localhost:27017/videox?authSource=admin
MONGODB_URI=mongodb://admin:admin@host.docker.internal:27017/videox?authSource=admin

# -----------------------------------------------------------------------------
# Admin Credentials (REQUIRED)
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_this_secure_password

# -----------------------------------------------------------------------------
# Security Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Generate secure random keys:
# JWT_SECRET:     node -e "console.log(require('crypto').randomBytes(48).toString('base64').slice(0,48))"
# ENCRYPTION_KEY: node -e "console.log(require('crypto').randomBytes(32).toString('base64').slice(0,32))"

JWT_SECRET=change_this_jwt_secret_min_48_characters_long_xxxxx
ENCRYPTION_KEY=change_this_32_char_aes_key_xx

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Note: Inside container, storage is at /var/lib/videox-storage (mapped to volume)
STORAGE_PATH=/var/lib/videox-storage
GLOBAL_RETENTION_DAYS=30
CLEANUP_SCHEDULE=0 */6 * * *

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
API_PORT=3002
NODE_ENV=production

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allow all origins (use specific origins in production)
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# Performance Limits
# -----------------------------------------------------------------------------
MAX_CONCURRENT_STREAMS=20
MAX_CONCURRENT_EXPORTS=3

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_PATH=/var/lib/videox-storage/logs
